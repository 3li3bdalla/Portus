<!DOCTYPE html>
<html>
  <head>
    <title>Portus and your private registry</title>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="description" content="Registering your private registry into Portus">

    <link href="/stylesheets/portus.css"  type="text/css" rel="stylesheet" />
    <script src="/javascripts/dist/portus.min.js" type="text/javascript" charset="utf-8"></script>

    <meta name="viewport" content="width=device-width, initial-scale=1">

<!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
<!--[if lt IE 9]>
  <script src="//oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
  <script src="//oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->

<!-- Favicon for all different devices -->
<meta content="width=device-width, initial-scale=1" name="viewport" />
<link href="/images/favicon/apple-touch-icon-57x57.png" rel="apple-touch-icon" sizes="57x57" />
<link href="/images/favicon/apple-touch-icon-60x60.png" rel="apple-touch-icon" sizes="60x60" />
<link href="/images/favicon/apple-touch-icon-72x72.png" rel="apple-touch-icon" sizes="72x72" />
<link href="/images/favicon/apple-touch-icon-76x76.png" rel="apple-touch-icon" sizes="76x76" />
<link href="/images/favicon/apple-touch-icon-114x114.png" rel="apple-touch-icon" sizes="114x114" />
<link href="/images/favicon/apple-touch-icon-120x120.png" rel="apple-touch-icon" sizes="120x120" />
<link href="/images/favicon/apple-touch-icon-144x144.png" rel="apple-touch-icon" sizes="144x144" />
<link href="/images/favicon/apple-touch-icon-152x152.png" rel="apple-touch-icon" sizes="152x152" />
<link href="/images/favicon/apple-touch-icon-180x180.png" rel="apple-touch-icon" sizes="180x180" />
<link href="/images/favicon/favicon-32x32.png" rel="icon" sizes="32x32" type="image/png" />
<link href="/images/favicon/android-chrome-192x192.png" rel="icon" sizes="192x192" type="image/png" />
<link href="/images/favicon/favicon-96x96.png" rel="icon" sizes="96x96" type="image/png" />
<link href="/images/favicon/favicon-16x16.png" rel="icon" sizes="16x16" type="image/png" />
<link href="/images/favicon/manifest.json" rel="manifest" />
<link color="#205683" href="/images/favicon/safari-pinned-tab.svg" rel="mask-icon" />
<link href="/images/favicon/favicon.ico" rel="shortcut icon" />
<meta content="Portus" name="apple-mobile-web-app-title" />
<meta content="Portus" name="application-name" />
<meta content="#da532c" name="msapplication-TileColor" />
<meta content="/images/favicon/mstile-144x144.png" name="msapplication-TileImage" />
<meta content="/images/favicon/browserconfig.xml" name="msapplication-config" />
<meta content="#205683" name="theme-color" />

  </head>
  <body>
    <header id="portus-header" class="portus-topbar">
  <div class="container-fluid">
    <i id="open_main_menu" class="fa fa-bars fa-2x visible-xs menu-sandwich"></i>

    <a href="/">
      <img class="pull-left img-responsive topbar-logo" src="/images/logo-header.png" alt="Logo on header">
    </a>
    <div class="pull-right hidden-xs">
      <a class="btn btn-link" href="/blog/index.html">Blog</a>
      <a class="btn btn-link" href="/features.html">Features</a>
      <a class="btn btn-link" href="/documentation.html">Documentation</a>
    </div>
    <div class="clearfix"></div>
  </div>
</header>

<div id="mobile-menu" class="visible-xs mobile-menu">
  <ul>
    <li><i class="fa fa-list-ul"></i><a class="btn btn-link" href="/features.html">Features</a></li>
    <li><i class="fa fa-book"></i><a class="btn btn-link" href="/documentation.html">Documentation</a></li>
    <li><i class="fa fa-newspaper-o"></i><a class="btn btn-link" href="/blog/index.html">Blog</a></li>
    <li><i class="fa fa-question-circle"></i><a class="btn btn-link" href="/docs/FAQ.html">FAQ</a></li>
  </ul>
</div>

    <div class="container" id="documentation">
      <div class="row">
        <div class="post-content col-md-10 col-md-offset-3 col-sm-12 col-xs-12">
          <section>
            <div class="row">
              <div class="visible-xs visible-sm">
  <div class="content-bar">
    <ul class="topics">
      <li class="dropdown">
        <button class="dropdown-toggle" type="button" data-toggle="dropdown">Documentation Index
        <span class="caret"></span></button>
        <ul class="dropdown-menu">
          <li class="dropdown-header">Documentation</li>
          
          
            <li>
              <a href="/docs/first-steps.html">
                Docker and Portus for newcomers
              </a>
            </li>
          
            <li>
              <a href="/docs/Configuring-Portus.html">
                Configuring Portus
              </a>
            </li>
          
            <li>
              <a href="/docs/database.html">
                Configuring the database
              </a>
            </li>
          
            <li>
              <a href="/docs/How-to-setup-secure-registry.html">
                Configuring a secure private registry
              </a>
            </li>
          
            <li>
              <a href="/docs/deploy.html">
                Deploying Portus
              </a>
            </li>
          
            <li>
              <a href="/docs/Configuring-the-registry.html">
                Portus and your private registry
              </a>
            </li>
          
            <li>
              <a href="/docs/assets.html">
                Managing assets
              </a>
            </li>
          
            <li>
              <a href="/docs/secrets.html">
                Using secrets
              </a>
            </li>
          
            <li>
              <a href="/docs/API.html">
                Portus REST API
              </a>
            </li>
          
            <li>
              <a href="/docs/background.html">
                The background process
              </a>
            </li>
          
            <li>
              <a href="/docs/portusctl.html">
                portusctl
              </a>
            </li>
          
            <li>
              <a href="/docs/upgrading-portus.html">
                Upgrading Portus
              </a>
            </li>
          
            <li>
              <a href="/docs/versions.html">
                Supported Docker Versions
              </a>
            </li>
          
            <li>
              <a href="/docs/debugging.html">
                Debugging Portus
              </a>
            </li>
          
            <li>
              <a href="/docs/how_we_release.html">
                Portus Releases
              </a>
            </li>
          
            <li>
              <a href="/docs/release-schedule.html">
                Release schedule
              </a>
            </li>
          
            <li>
              <a href="/docs/FAQ.html">
                FAQ
              </a>
            </li>
          
          <li class="dropdown-header">Features</li>
          
          
            <li>
              <a href="/features/1_Synchronizing-the-Registry-and-Portus.html">
                Synchonizing the Registry and Portus
              </a>
            </li>
          
            <li>
              <a href="/features/2_LDAP-support.html">
                LDAP support
              </a>
            </li>
          
            <li>
              <a href="/features/3_teams_namespaces_and_users.html">
                Teams, namespaces and users
              </a>
            </li>
          
            <li>
              <a href="/features/4_audit.html">
                Audit
              </a>
            </li>
          
            <li>
              <a href="/features/5_search.html">
                Search
              </a>
            </li>
          
            <li>
              <a href="/features/6_security_scanning.html">
                Security scanning
              </a>
            </li>
          
            <li>
              <a href="/features/removing_images.html">
                Removing images and tags
              </a>
            </li>
          
            <li>
              <a href="/features/6_starring.html">
                Starring repositories
              </a>
            </li>
          
            <li>
              <a href="/features/7_disabling_users.html">
                Removing/Disabling users
              </a>
            </li>
          
            <li>
              <a href="/features/anonymous_browsing.html">
                Anonymous browsing
              </a>
            </li>
          
            <li>
              <a href="/features/8_locking.html">
                Locking accounts for safety reasons
              </a>
            </li>
          
            <li>
              <a href="/features/9_recovering_password.html">
                Recovering the password
              </a>
            </li>
          
            <li>
              <a href="/features/disabling_signup.html">
                Disabling the sign up form
              </a>
            </li>
          
            <li>
              <a href="/features/oauth.html">
                OAuth and OpenID Connect support
              </a>
            </li>
          
            <li>
              <a href="/features/application_tokens.html">
                Application tokens
              </a>
            </li>
          
            <li>
              <a href="/features/display_name.html">
                Display name
              </a>
            </li>
          
            <li>
              <a href="/features/health.html">
                Health checking
              </a>
            </li>
          
        </ul>
      </li>
    </ul>
  </div>
</div>

            </div>
            <div class="row post">
              <article>
                <h2 id="registering-your-private-registry-into-portus">Registering your private registry into Portus</h2>

<p>Once you have deployed Portus successfully and you have logged in as an admin
user, now it’s time to tell Portus about the existence of your private
registry. For this matter, if you haven’t done this before, Portus will
automatically redirect you to this page:</p>

<p><img src="/images/docs/new-registry.png" alt="New registry form" /></p>

<p>In this form you have to provide the information about your registry. You can
set any name you want, but the <code class="highlighter-rouge">Hostname</code> and the <code class="highlighter-rouge">Use SSL</code> fields are crucial
(see what does the <code class="highlighter-rouge">Show Advanced</code> button stand for
<a href="/docs/Configuring-the-registry.html#adding-an-external-hostname">here</a>).
For the hostname, remember to also provide the port. As an example:</p>

<p><img src="/images/docs/new-registry-filled.png" alt="Well configured" /></p>

<p>If everything went correctly, you should be redirected to this page:</p>

<p><img src="/images/docs/index-registries.png" alt="Registries" /></p>

<p>However, on error, you will get an alert message with the explanation of the
possible error. Let’s imagine that in the above example we forgot to set the
usage of SSL (and this registry <em>has</em> SSL configured). In this case, you’ll
get the following result:</p>

<p><img src="/images/docs/new-registry-error.png" alt="Registry error" /></p>

<p>As you can see, on the top of the page an alert with the given error is shown.
Moreover, now in the form you’ll see the new field <code class="highlighter-rouge">Skip remote checks</code>. If you
check this field, then no more checks will be performed by Portus when trying
to introduce this registry. This can be useful when setting up Portus when your
registry is down at the moment, or you haven’t configured it yet.</p>

<h2 id="adding-an-external-hostname">Adding an external hostname</h2>

<p>As you can see in the following image, the form includes a <code class="highlighter-rouge">Show Advanced</code> button:</p>

<p><img src="/images/docs/advanced-registry-config.png" alt="Registry advanced configuration" /></p>

<p>If you click this button, the following elements will be available:</p>

<p><img src="/images/docs/advanced-filled-registry-config.png" alt="Filled advanced configuration" /></p>

<p>As the shown paragraph describes, you can configure Portus to use an external
hostname that will be used for the events received from the registry (e.g. a new
tag has been pushed). You can leave this empty, which is the default action and
the usual situation, which means that the hostname given in the <code class="highlighter-rouge">Hostname</code> field
is the one to be used always.</p>

<p>A common use case for setting an external hostname is when Portus is hidden in an
internal network that is not accessible by clients, but these same clients can
connect to the registry with a different hostname thanks to a reverse proxy.</p>

<h2 id="editing-the-configuration-for-your-registry">Editing the configuration for your registry</h2>

<p>Once you have created your registry inside of Portus, you can still edit it.
In order to do this, just go to the “Registries” panel in the admin page, and
click the “Edit” link for the registry to be edited. You’ll find the following
form:</p>

<p><img src="/images/docs/edit-registry.png" alt="Registry edit" /></p>

<p>There are two scenarios when entering this page:</p>

<ol>
  <li>You have already pushed some images into this registry and Portus has pulled
them into the database. In this scenario, you will not be able to edit
either the <code class="highlighter-rouge">Hostname</code> or the <code class="highlighter-rouge">Use SSL</code> field. Instead, you will not even see
them. This is because changing this on an already initialized registry
means that Portus should do a migration of the data, and this is not
supported by Portus yet. Therefore, in this scenario, you will only be able
to update the name.</li>
  <li>Portus was not able to pull any image from this registry. This can happen
either when you have just created the registry or when there is some
misconfiguration. Note that this form is specially useful in this case,
when for some reason you decided to skip the checks on the creation form and
now you realize that you made a typo or something.</li>
</ol>

              </article>
            </div>
          </section>
        </div>
      </div>
      <aside class="hidden-xs hidden-sm content-list">
  <ul class="topics">
    <li>Documentation</li>
    <ul class="subtopics">
      
      
        <li>
          <a href="/docs/first-steps.html">
            Docker and Portus for newcomers
          </a>
        </li>
      
        <li>
          <a href="/docs/Configuring-Portus.html">
            Configuring Portus
          </a>
        </li>
      
        <li>
          <a href="/docs/database.html">
            Configuring the database
          </a>
        </li>
      
        <li>
          <a href="/docs/How-to-setup-secure-registry.html">
            Configuring a secure private registry
          </a>
        </li>
      
        <li>
          <a href="/docs/deploy.html">
            Deploying Portus
          </a>
        </li>
      
        <li>
          <a href="/docs/Configuring-the-registry.html">
            Portus and your private registry
          </a>
        </li>
      
        <li>
          <a href="/docs/assets.html">
            Managing assets
          </a>
        </li>
      
        <li>
          <a href="/docs/secrets.html">
            Using secrets
          </a>
        </li>
      
        <li>
          <a href="/docs/API.html">
            Portus REST API
          </a>
        </li>
      
        <li>
          <a href="/docs/background.html">
            The background process
          </a>
        </li>
      
        <li>
          <a href="/docs/portusctl.html">
            portusctl
          </a>
        </li>
      
        <li>
          <a href="/docs/upgrading-portus.html">
            Upgrading Portus
          </a>
        </li>
      
        <li>
          <a href="/docs/versions.html">
            Supported Docker Versions
          </a>
        </li>
      
        <li>
          <a href="/docs/debugging.html">
            Debugging Portus
          </a>
        </li>
      
        <li>
          <a href="/docs/how_we_release.html">
            Portus Releases
          </a>
        </li>
      
        <li>
          <a href="/docs/release-schedule.html">
            Release schedule
          </a>
        </li>
      
        <li>
          <a href="/docs/FAQ.html">
            FAQ
          </a>
        </li>
      
    </ul>
    <li>Features</li>
    <ul class="subtopics">
      
      
        <li>
          <a href="/features/1_Synchronizing-the-Registry-and-Portus.html">
            Synchonizing the Registry and Portus
          </a>
        </li>
      
        <li>
          <a href="/features/2_LDAP-support.html">
            LDAP support
          </a>
        </li>
      
        <li>
          <a href="/features/3_teams_namespaces_and_users.html">
            Teams, namespaces and users
          </a>
        </li>
      
        <li>
          <a href="/features/4_audit.html">
            Audit
          </a>
        </li>
      
        <li>
          <a href="/features/5_search.html">
            Search
          </a>
        </li>
      
        <li>
          <a href="/features/6_security_scanning.html">
            Security scanning
          </a>
        </li>
      
        <li>
          <a href="/features/removing_images.html">
            Removing images and tags
          </a>
        </li>
      
        <li>
          <a href="/features/6_starring.html">
            Starring repositories
          </a>
        </li>
      
        <li>
          <a href="/features/7_disabling_users.html">
            Removing/Disabling users
          </a>
        </li>
      
        <li>
          <a href="/features/anonymous_browsing.html">
            Anonymous browsing
          </a>
        </li>
      
        <li>
          <a href="/features/8_locking.html">
            Locking accounts for safety reasons
          </a>
        </li>
      
        <li>
          <a href="/features/9_recovering_password.html">
            Recovering the password
          </a>
        </li>
      
        <li>
          <a href="/features/disabling_signup.html">
            Disabling the sign up form
          </a>
        </li>
      
        <li>
          <a href="/features/oauth.html">
            OAuth and OpenID Connect support
          </a>
        </li>
      
        <li>
          <a href="/features/application_tokens.html">
            Application tokens
          </a>
        </li>
      
        <li>
          <a href="/features/display_name.html">
            Display name
          </a>
        </li>
      
        <li>
          <a href="/features/health.html">
            Health checking
          </a>
        </li>
      
    </ul>
  </ul>
  <div class="credits">
    <div class="text-center" lang="en">Created with <i class='fa fa-heart secondary-colour'></i> by the SUSE team</div>
  </div>
</aside>

      <div class="visible-xs visible-sm credits">
        <div class="text-center" lang="en">Created with <i class='fa fa-heart secondary-colour'></i> by the SUSE team</div>
      </div>
    </div>
  </body>
</html>
